(()=>{"use strict";const e=window.wp.plugins,t=window.wp.editor,n=window.wp.i18n,s=window.wp.components,o=window.wp.data,i=window.wp.coreData,d=window.wp.element,a=new Set(["px","em","rem","%","vh","vw"]),l=e=>{const t=[];for(const n in e){const s=e[n];!s||a.has(s)||Number.isNaN(s)||"string"==typeof s&&s.includes("undefined")||t.push(`${n}: ${s};`)}return t.join(" ")},r=window.ReactJSXRuntime;(0,e.registerPlugin)("gkit-page-settings",{render:()=>{const{gutenkitLogo:e}=window.gutenkit.editorIcon,{GkitTabs:a,GkitPanelBody:g,GkitResponsive:c,GkitBoxControl:u,GkitBackgrounGroup:p,GkitProUpgradeNotice:y}=window.gutenkit.components,{useDeviceType:w,useHasProActive:k,useDeviceList:h}=window.gutenkit.helpers,m=(0,o.select)("core/editor").getCurrentPostType(),[S,B]=(0,i.useEntityProp)("postType",m,"meta"),b=w(),x=k(),f=h(),_=(0,d.useMemo)((()=>((e,t)=>{const{parseCSS:n,fillBackgroundGenerator:s,getBoxValue:o}=window.gutenkit.helpers;return n([[],t=>[{selector:"body.editor-styles-wrapper",...o(e?.postBodyMargin?.[t],"margin"),...o(e?.postBodyPadding?.[t],"padding"),...s(e?.postBodyBackground,t)}]],t)})(S,f)),[S,f]),{getEditorSettings:v}=(0,o.select)("core/editor"),{updateEditorSettings:j}=(0,o.dispatch)("core/editor"),C=v();return(0,d.useEffect)((()=>{if(_?.rawCSS){const e=((e,t)=>{const n={};for(let s=0;s<t.length;s++){const o=t[s],i=e[o.slug]||e[o.slug.toLowerCase()];if(i){const e=[];for(let t=0;t<i.length;t++){const{selector:n,...s}=i[t],o=l(s);o&&e.push(`${n} { ${o} }`)}e.length>0&&(n[o.slug.toLowerCase()]=e.join(" "))}}if(e.customStyles){const t=[];for(let n=0;n<e.customStyles.length;n++){const{mediaQuery:s,selector:o,...i}=e.customStyles[n];if(s&&!s.includes("undefined")){const e=l(i);e&&t.push(`@media (${s}) { ${o} { ${e} } }`)}}t.length>0&&(n.customStyles=t.join(" "))}return n})(_.rawCSS,f);let t=[];f.forEach((n=>{let s=n?.value,o=n?.slug||"Desktop",i=n?.direction||"max",d=o?.toLowerCase();if("base"==s&&e?.[d])t.push(e?.[d]);else if(e?.[d]&&s&&i){let n=`\n\t\t\t\t\t@media (${i}-width: ${s}px) {\n\t\t\t\t\t\t${e?.[d]}\n\t\t\t\t\t}\n\t\t\t\t`;t.push(n)}}));const n={css:t.length>0?t.join(""):"",__unstableType:"gutenkit-page-settings-styles",isGlobalStyles:!0},s=C?.styles?.findIndex((e=>e.__unstableType===n.__unstableType&&e.isGlobalStyles===n.isGlobalStyles));if(-1!==s){const e=[...C.styles];e[s]=n,j({...C,styles:e})}else j({...C,styles:[...C.styles,n]})}}),[_?.rawCSS]),"popupkit-campaigns"!==m&&(0,r.jsx)(t.PluginSidebar,{name:"gkit-page-settings",title:(0,n.__)("GutenKit Page Settings","gutenkit-blocks-addon"),icon:e,children:(0,r.jsx)(a,{type:"top-level",tabs:[{name:"page-settings-style",title:"Style"},{name:"page-settings-advanced",title:"Advanced"}],children:e=>"page-settings-style"===e.name?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(g,{title:(0,n.__)("Body Style","gutenkit-blocks-addon"),initialOpen:!0,children:[(0,r.jsx)(c,{children:(0,r.jsx)(u,{label:(0,n.__)("Margin","gutenkit-blocks-addon"),values:S.postBodyMargin[b]||{},onChange:e=>B({postBodyMargin:{...S.postBodyMargin,[b]:e}})})}),(0,r.jsx)(c,{children:(0,r.jsx)(u,{label:(0,n.__)("Padding","gutenkit-blocks-addon"),values:S.postBodyPadding[b]||{},onChange:e=>B({postBodyPadding:{...S.postBodyPadding,[b]:e}})})}),(0,r.jsx)(s.__experimentalDivider,{}),(0,r.jsx)(p,{label:(0,n.__)("Background","gutenkit-blocks-addon"),onChange:e=>{const t={...e,gradient:e?.gradient||""};return B({postBodyBackground:t})},value:S.postBodyBackground,exclude:{video:!0},isSupportDynamicContent:!1})]})}):"page-settings-advanced"===e.name?(0,r.jsx)(r.Fragment,{children:!x&&(0,r.jsx)(y,{})}):void 0})})}})})();